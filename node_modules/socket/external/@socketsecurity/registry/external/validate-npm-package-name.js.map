{"version":3,"file":"validate-npm-package-name.js","sources":["../../node_modules/validate-npm-package-name/lib/index.js"],"sourcesContent":["'use strict'\nconst { builtinModules: builtins } = require('module')\n\nvar scopedPackagePattern = new RegExp('^(?:@([^/]+?)[/])?([^/]+?)$')\nvar blacklist = [\n  'node_modules',\n  'favicon.ico',\n]\n\nfunction validate (name) {\n  var warnings = []\n  var errors = []\n\n  if (name === null) {\n    errors.push('name cannot be null')\n    return done(warnings, errors)\n  }\n\n  if (name === undefined) {\n    errors.push('name cannot be undefined')\n    return done(warnings, errors)\n  }\n\n  if (typeof name !== 'string') {\n    errors.push('name must be a string')\n    return done(warnings, errors)\n  }\n\n  if (!name.length) {\n    errors.push('name length must be greater than zero')\n  }\n\n  if (name.match(/^\\./)) {\n    errors.push('name cannot start with a period')\n  }\n\n  if (name.match(/^_/)) {\n    errors.push('name cannot start with an underscore')\n  }\n\n  if (name.trim() !== name) {\n    errors.push('name cannot contain leading or trailing spaces')\n  }\n\n  // No funny business\n  blacklist.forEach(function (blacklistedName) {\n    if (name.toLowerCase() === blacklistedName) {\n      errors.push(blacklistedName + ' is a blacklisted name')\n    }\n  })\n\n  // Generate warnings for stuff that used to be allowed\n\n  // core module names like http, events, util, etc\n  if (builtins.includes(name.toLowerCase())) {\n    warnings.push(name + ' is a core module name')\n  }\n\n  if (name.length > 214) {\n    warnings.push('name can no longer contain more than 214 characters')\n  }\n\n  // mIxeD CaSe nAMEs\n  if (name.toLowerCase() !== name) {\n    warnings.push('name can no longer contain capital letters')\n  }\n\n  if (/[~'!()*]/.test(name.split('/').slice(-1)[0])) {\n    warnings.push('name can no longer contain special characters (\"~\\'!()*\")')\n  }\n\n  if (encodeURIComponent(name) !== name) {\n    // Maybe it's a scoped package name, like @user/package\n    var nameMatch = name.match(scopedPackagePattern)\n    if (nameMatch) {\n      var user = nameMatch[1]\n      var pkg = nameMatch[2]\n      if (encodeURIComponent(user) === user && encodeURIComponent(pkg) === pkg) {\n        return done(warnings, errors)\n      }\n    }\n\n    errors.push('name can only contain URL-friendly characters')\n  }\n\n  return done(warnings, errors)\n}\n\nvar done = function (warnings, errors) {\n  var result = {\n    validForNewPackages: errors.length === 0 && warnings.length === 0,\n    validForOldPackages: errors.length === 0,\n    warnings: warnings,\n    errors: errors,\n  }\n  if (!result.warnings.length) {\n    delete result.warnings\n  }\n  if (!result.errors.length) {\n    delete result.errors\n  }\n  return result\n}\n\nmodule.exports = validate\n"],"names":["builtinModules","builtins","require$$0","scopedPackagePattern","RegExp","blacklist","validate","name","warnings","errors","push","done","undefined","length","match","trim","forEach","blacklistedName","toLowerCase","includes","test","split","slice","encodeURIComponent","nameMatch","user","pkg","result","validForNewPackages","validForOldPackages","lib"],"mappings":"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","x_google_ignoreList":[0]}