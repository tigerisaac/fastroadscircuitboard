{"version":3,"file":"table.js","sources":["../../../../node_modules/ansi-regex/index.js","../../../../node_modules/strip-ansi/index.js","../../../../node_modules/blessed-contrib/lib/widget/table.js"],"sourcesContent":["'use strict';\nmodule.exports = function () {\n\treturn /[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g;\n};\n","'use strict';\nvar ansiRegex = require('ansi-regex')();\n\nmodule.exports = function (str) {\n\treturn typeof str === 'string' ? str.replace(ansiRegex, '') : str;\n};\n","'use strict';\nvar Box = require('blessed/lib/widgets/box')\n  , List = require('blessed/lib/widgets/list')\n  , Node = require('blessed/lib/widgets/node')\n  , stripAnsi = require('strip-ansi');\n\nfunction Table(options) {\n\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Table(options);\n  }\n\n  if (Array.isArray(options.columnSpacing)) {\n    throw 'Error: columnSpacing cannot be an array.\\r\\n' +\n           'Note: From release 2.0.0 use property columnWidth instead of columnSpacing.\\r\\n' +\n           'Please refere to the README or to https://github.com/yaronn/blessed-contrib/issues/39';\n  }\n\n  if (!options.columnWidth) {\n    throw 'Error: A table must get columnWidth as a property. Please refer to the README.';\n  }\n\n  options = options || {};\n  options.columnSpacing = options.columnSpacing==null? 10 : options.columnSpacing;\n  options.bold = true;\n  options.selectedFg = options.selectedFg || 'white';\n  options.selectedBg = options.selectedBg || 'blue';\n  options.fg = options.fg || 'green';\n  options.bg = options.bg || '';\n  options.interactive = (typeof options.interactive === 'undefined') ? true : options.interactive;\n  this.options = options;\n  Box.call(this, options);\n\n  this.rows = new List({\n    //height: 0,\n    top: 2,\n    width: 0,\n    left: 1,\n    style: { selected: {\n      fg: options.selectedFg\n      , bg: options.selectedBg\n    }\n    , item: {\n      fg: options.fg\n      , bg: options.bg\n    }},\n    keys: options.keys,\n    vi: options.vi,\n    mouse: options.mouse,\n    tags: true,\n    interactive: options.interactive,\n    screen: this.screen\n  });\n\n  this.append(this.rows);\n\n  this.on('attach', function() {\n    if (self.options.data) {\n      self.setData(self.options.data);\n    }\n  });\n\n}\n\nTable.prototype = Object.create(Box.prototype);\n\nTable.prototype.focus = function(){\n  this.rows.focus();\n};\n\nTable.prototype.render = function() {\n  if(this.screen.focused == this.rows)\n    this.rows.focus();\n\n  this.rows.width = this.width-3;\n  this.rows.height = this.height-4;\n  Box.prototype.render.call(this);\n};\n\n\nTable.prototype.setData = function(table) {\n  var self = this;\n\n  var dataToString = function(d) {\n    var str = '';\n    d.forEach(function(r, i) {\n      var colsize = self.options.columnWidth[i]\n        , strip = stripAnsi(r.toString())\n        , ansiLen = r.toString().length - strip.length\n        , spaceLength = colsize - strip.length + self.options.columnSpacing;\n      r = r.toString().substring(0, colsize + ansiLen); //compensate for ansi len\n      if (spaceLength < 0) {\n        spaceLength = 0;\n      }\n      var spaces = new Array(spaceLength).join(' ');\n      str += r + spaces;\n    });\n    return str;\n  };\n\n  var formatted = [];\n\n  table.data.forEach(function(d) {\n    var str = dataToString(d);\n    formatted.push(str);\n  });\n  this.setContent(dataToString(table.headers));\n  this.rows.setItems(formatted);\n};\n\nTable.prototype.getOptionsPrototype = function() {\n  return  { keys: true\n    , fg: 'white'\n    , interactive: false\n    , label: 'Active Processes'\n    , width: '30%'\n    , height: '30%'\n    , border: {type: 'line', fg: 'cyan'}\n    , columnSpacing: 10\n    , columnWidth: [16, 12]\n    , data: { headers: ['col1', 'col2']\n      , data: [ ['a', 'b']\n        , ['5', 'u']\n        , ['x', '16.1'] ]}\n  };\n};\n\nTable.prototype.type = 'table';\n\nmodule.exports = Table;\n"],"names":["ansiRegex","require$$0","stripAnsi","str","replace","Box","List","require$$1","Node","require$$2","require$$3","Table","options","self","Array","isArray","columnSpacing","columnWidth","bold","selectedFg","selectedBg","fg","bg","interactive","call","rows","top","width","left","style","selected","item","keys","vi","mouse","tags","screen","append","on","data","setData","prototype","Object","create","focus","render","focused","height","table","dataToString","d","forEach","r","i","colsize","strip","toString","ansiLen","length","spaceLength","substring","spaces","join","formatted","push","setContent","headers","setItems","getOptionsPrototype","label","border","type"],"mappings":"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","x_google_ignoreList":[0,1,2],"debugId":"5ce49411-fd3f-4b8b-b898-557fa2930674"}